<template class="task-template">
    <section id="home-section" class="section js-section u-category-native-ui">

        <div class="container-fluid">
            <div class="logo text-center col-md-12">
                <img src="assets/images/xnat_logo.svg" />
            </div>

            <div class="row hidden">
                <button id="nedb_log_insert">NeDB Logger insert</button>
                <button id="nedb_log_read">NeDB Logger read</button>
            </div>

            <div class="row">
                <div class="col-sm">
                    <button data-href="upload.html" class="btn btn-bigfriendly btn-lg btn-block home-button" type="button">
                        <span class="upload"></span> Upload files</button>
                </div>
                <div class="col-sm">
                    <button data-toggle="modal" data-target="#download_modal" class="btn btn-bigfriendly btn-lg btn-block home-button" type="button">
                        <span class="download"></span> Download files
                    </button>
                </div>
                <div class="col-sm">
                    <button data-href="progress.html" class="btn btn-bigfriendly btn-lg btn-block home-button" type="button">
                        <span class="history"></span> Transfer history</button>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="download_modal" tabindex="-1" role="dialog" aria-labelledby="download_modal" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Download XNAT XML catalog files</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <i class="far fa-window-close"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger text-center hidden" role="alert">
                            <h2 class="red-title"><i class="fas fa-exclamation-triangle"></i> Error!</h2>
                            <span class="error_message">...</span>
                        </div>

                        <form>
                            <div class="form-group">
                                <label for="xnt_manifest_text">
                                    <b>Select XML File</b>
                                </label>

                                <div class="col-12" style="padding: 0">
                                    <input type="text" id="xnt_manifest_text" name="xnt_manifest_text" value="" class="form-control settings-input" readonly>
                                    <label class="input-group-btn" style="position: absolute; right: 0; top: 0;">
                                        <span class="btn btn-blue">
                                            Browse
                                            <input type="file" id="xnt_manifest_file" accept=".xnt,.xml" style="display: none">
                                        </span>
                                    </label>
                                </div>

                                <small class="form-text text-muted">Select a valid XNAT XML catalog file that details the files to be downloaded</small>
                            </div>

                            <div class="form-group">
                                <label for="download_destination_text">
                                    <b>Set Destination</b>
                                </label>

                                <div class="col-12" style="padding: 0">
                                    <input type="text" id="download_destination_text" name="download_destination_text" value="" class="form-control settings-input"
                                        readonly>
                                    <label class="input-group-btn" style="position: absolute; right: 0; top: 0;">
                                        <span class="btn btn-blue">
                                            Browse
                                            <input type="file" id="download_destination_file" style="display: none" webkitdirectory directory>
                                        </span>
                                    </label>
                                </div>

                                <small class="form-text text-muted">
                                    <span id="no_default_local_storage">
                                        Your default download destination folder is not set.
                                    </span>
                                    <span id="yes_default_local_storage">
                                        Your default download destination folder has been selected. 
                                        If you would like to use a different folder, you can select it here.
                                    </span>
                                    To change your default download destination, go to
                                    <a data-href="settings.html#nav-profile-tab" href="#" data-dismiss="modal">Application Settings</a>.
                                </small>
                            </div>
                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-blue js_download_session_files">Download</button>

                    </div>
                </div>
            </div>
        </div>

    </section>

    <script type="text/javascript">
        require('./renderer-process/home');
        Helper.pageLoadTrigger('#home-section');
    </script>
</template>